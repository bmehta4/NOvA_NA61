\hypertarget{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_pion_yields_reweighter}{\section{Neutrino\-Flux\-Reweight\-:\-:M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter Class Reference}
\label{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_pion_yields_reweighter}\index{Neutrino\-Flux\-Reweight\-::\-M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter@{Neutrino\-Flux\-Reweight\-::\-M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter}}
}


Reweight a chain of interactions that are covered by the Nu\-M\-I target pi+ and pi-\/ yields measured by M\-I\-P\-P.  




{\ttfamily \#include $<$M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter.\-h$>$}

Inheritance diagram for Neutrino\-Flux\-Reweight\-:\-:M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter\-:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_pion_yields_reweighter}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_pion_yields_reweighter_a0936dda1619b4d977b07868216d67d16}{M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter} (int iuniv, const \hyperlink{class_neutrino_flux_reweight_1_1_parameter_table}{Parameter\-Table} \&cv\-\_\-pars, const \hyperlink{class_neutrino_flux_reweight_1_1_parameter_table}{Parameter\-Table} \&univ\-\_\-pars)
\item 
virtual \hyperlink{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_pion_yields_reweighter_a6779850f19e6cf219b2ea83eed20b223}{$\sim$\-M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter} ()
\item 
virtual std\-::vector$<$ bool $>$ \hyperlink{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_pion_yields_reweighter_a6a716b25ddb7d29ace9c7f07d84c91b2}{can\-Reweight} (const \hyperlink{class_neutrino_flux_reweight_1_1_interaction_chain_data}{Interaction\-Chain\-Data} \&aa)
\begin{DoxyCompactList}\small\item\em Look through the \hyperlink{class_neutrino_flux_reweight_1_1_interaction_chain_data}{Interaction\-Chain\-Data} input and identify those Interactions that can be reweighted as part of a chain. We return a vector indicating which elements will be assigned a weight by calculate\-Weight. \end{DoxyCompactList}\item 
virtual double \hyperlink{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_pion_yields_reweighter_a84ef113a8ef34c2f9f5813938ec35382}{calculate\-Weight} (const \hyperlink{class_neutrino_flux_reweight_1_1_interaction_chain_data}{Interaction\-Chain\-Data} \&aa)
\begin{DoxyCompactList}\small\item\em calculate a weight for this interaction chain given the central value parameters and the parameters for this universe. The weight is something like\-: f(cv)/f(M\-C) $\ast$ f(univ)/f(cv) where cv in this case corresponds to the best value of the parameter, given the data. If univ\-\_\-pars=cv\-\_\-pars then we are calculating a central value weight. Note, \hyperlink{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_pion_yields_reweighter_a6a716b25ddb7d29ace9c7f07d84c91b2}{can\-Reweight()} should be called to determine which elements of the chain are covered by the weight returned by \hyperlink{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_pion_yields_reweighter_a84ef113a8ef34c2f9f5813938ec35382}{calculate\-Weight()} \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
const \hyperlink{class_neutrino_flux_reweight_1_1_parameter_table}{Parameter\-Table} \& \hyperlink{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_pion_yields_reweighter_a127384f58575ad94c986aac85ea6fbe6}{cv\-Pars}
\item 
const \hyperlink{class_neutrino_flux_reweight_1_1_parameter_table}{Parameter\-Table} \& \hyperlink{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_pion_yields_reweighter_a9208f5f3b7541f13f9e652d84e50c7cd}{univ\-Pars}
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_pion_yields_reweighter_a1ff57841eaa437aeb11a9793a64e47c2}{i\-Univ}
\item 
float \hyperlink{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_pion_yields_reweighter_a90a2a88378549bb970b58543571206d7}{prt\-\_\-no\-\_\-inter}
\item 
std\-::vector$<$ float $>$ \hyperlink{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_pion_yields_reweighter_a2120bbeea3e8b080eb68cd8ef6aa5b8e}{vbin\-\_\-data\-\_\-pip}
\item 
std\-::vector$<$ float $>$ \hyperlink{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_pion_yields_reweighter_a812702b4afdcb56925d897e56a01b352}{vbin\-\_\-data\-\_\-pim}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Reweight a chain of interactions that are covered by the Nu\-M\-I target pi+ and pi-\/ yields measured by M\-I\-P\-P. 

Definition at line 12 of file M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter.\-h.



\subsection{Constructor \& Destructor Documentation}
\hypertarget{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_pion_yields_reweighter_a0936dda1619b4d977b07868216d67d16}{\index{Neutrino\-Flux\-Reweight\-::\-M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter@{Neutrino\-Flux\-Reweight\-::\-M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter}!M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter@{M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter}}
\index{M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter@{M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter}!NeutrinoFluxReweight::MIPPNumiPionYieldsReweighter@{Neutrino\-Flux\-Reweight\-::\-M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter}}
\subsubsection[{M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter}]{\setlength{\rightskip}{0pt plus 5cm}Neutrino\-Flux\-Reweight\-::\-M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter\-::\-M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter (
\begin{DoxyParamCaption}
\item[{int}]{iuniv, }
\item[{const {\bf Parameter\-Table} \&}]{cv\-\_\-pars, }
\item[{const {\bf Parameter\-Table} \&}]{univ\-\_\-pars}
\end{DoxyParamCaption}
)}}\label{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_pion_yields_reweighter_a0936dda1619b4d977b07868216d67d16}
The constructor. Note, we pass central value and single universe parameters in this constructor only. There is thus a 1 to 1 correspondence between an instance of this class and a given universe. 

Definition at line 12 of file M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter.\-cpp.


\begin{DoxyCode}
12                                                                                                            
                                :\hyperlink{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_pion_yields_reweighter_a127384f58575ad94c986aac85ea6fbe6}{cvPars}(cv\_pars),\hyperlink{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_pion_yields_reweighter_a9208f5f3b7541f13f9e652d84e50c7cd}{univPars}(univ\_pars),
      \hyperlink{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_pion_yields_reweighter_a1ff57841eaa437aeb11a9793a64e47c2}{iUniv}(iuniv)\{ 
13 
14      MIPPNumiYieldsBins* MIPPbins =  \hyperlink{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_yields_bins_a7f44afe90a846812d6eabfafa8f576e4}{MIPPNumiYieldsBins::getInstance}();
15      \hyperlink{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_pion_yields_reweighter_a2120bbeea3e8b080eb68cd8ef6aa5b8e}{vbin\_data\_pip}.reserve(MIPPbins->GetNbins\_pip\_MIPPNuMI());
16      \hyperlink{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_pion_yields_reweighter_a812702b4afdcb56925d897e56a01b352}{vbin\_data\_pim}.reserve(MIPPbins->GetNbins\_pim\_MIPPNuMI());
17      
18      \textcolor{comment}{//const boost::interprocess::flat\_map<std::string, double>& cv\_table = cvPars.getMap();}
19      \textcolor{comment}{//const boost::interprocess::flat\_map<std::string, double>& univ\_table = univPars.getMap();}
20     \hyperlink{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_pion_yields_reweighter_a90a2a88378549bb970b58543571206d7}{prt\_no\_inter} = \hyperlink{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_pion_yields_reweighter_a9208f5f3b7541f13f9e652d84e50c7cd}{univPars}.\hyperlink{class_neutrino_flux_reweight_1_1_parameter_table_acb7dc8335b65b116f6092f2fa57ca5ed}{getParameterValue}(\textcolor{stringliteral}{"prt\_no\_interacting"});
21     \textcolor{keywordtype}{char} namepar[100];
22     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} ii=0;ii<MIPPbins->GetNbins\_pip\_MIPPNuMI();ii++)\{
23       sprintf(namepar,\textcolor{stringliteral}{"MIPP\_NuMI\_%s\_sys\_%d"},\textcolor{stringliteral}{"pip"},ii);
24       \textcolor{keywordtype}{double} data\_cv  = \hyperlink{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_pion_yields_reweighter_a127384f58575ad94c986aac85ea6fbe6}{cvPars}.\hyperlink{class_neutrino_flux_reweight_1_1_parameter_table_acb7dc8335b65b116f6092f2fa57ca5ed}{getParameterValue}(std::string(namepar));
25       \textcolor{keywordtype}{double} data\_sys = \hyperlink{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_pion_yields_reweighter_a9208f5f3b7541f13f9e652d84e50c7cd}{univPars}.\hyperlink{class_neutrino_flux_reweight_1_1_parameter_table_acb7dc8335b65b116f6092f2fa57ca5ed}{getParameterValue}(std::string(namepar));
26       sprintf(namepar,\textcolor{stringliteral}{"MIPP\_NuMI\_%s\_stats\_%d"},\textcolor{stringliteral}{"pip"},ii);
27       \textcolor{keywordtype}{double} data\_sta = \hyperlink{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_pion_yields_reweighter_a9208f5f3b7541f13f9e652d84e50c7cd}{univPars}.\hyperlink{class_neutrino_flux_reweight_1_1_parameter_table_acb7dc8335b65b116f6092f2fa57ca5ed}{getParameterValue}(std::string(namepar));
28       data\_sys /= (1.0-\hyperlink{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_pion_yields_reweighter_a90a2a88378549bb970b58543571206d7}{prt\_no\_inter});
29       data\_sta /= (1.0-\hyperlink{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_pion_yields_reweighter_a90a2a88378549bb970b58543571206d7}{prt\_no\_inter});
30       data\_cv  /= (1.0-\hyperlink{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_pion_yields_reweighter_a90a2a88378549bb970b58543571206d7}{prt\_no\_inter});
31       \hyperlink{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_pion_yields_reweighter_a2120bbeea3e8b080eb68cd8ef6aa5b8e}{vbin\_data\_pip}.push\_back(data\_sys + data\_sta - data\_cv);
32     \}
33     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} ii=0;ii<MIPPbins->GetNbins\_pim\_MIPPNuMI();ii++)\{
34       sprintf(namepar,\textcolor{stringliteral}{"MIPP\_NuMI\_%s\_sys\_%d"},\textcolor{stringliteral}{"pim"},ii);
35       \textcolor{keywordtype}{double} data\_cv  = \hyperlink{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_pion_yields_reweighter_a127384f58575ad94c986aac85ea6fbe6}{cvPars}.\hyperlink{class_neutrino_flux_reweight_1_1_parameter_table_acb7dc8335b65b116f6092f2fa57ca5ed}{getParameterValue}(std::string(namepar));
36       \textcolor{keywordtype}{double} data\_sys = \hyperlink{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_pion_yields_reweighter_a9208f5f3b7541f13f9e652d84e50c7cd}{univPars}.\hyperlink{class_neutrino_flux_reweight_1_1_parameter_table_acb7dc8335b65b116f6092f2fa57ca5ed}{getParameterValue}(std::string(namepar));
37       sprintf(namepar,\textcolor{stringliteral}{"MIPP\_NuMI\_%s\_stats\_%d"},\textcolor{stringliteral}{"pim"},ii);
38       \textcolor{keywordtype}{double} data\_sta = \hyperlink{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_pion_yields_reweighter_a9208f5f3b7541f13f9e652d84e50c7cd}{univPars}.\hyperlink{class_neutrino_flux_reweight_1_1_parameter_table_acb7dc8335b65b116f6092f2fa57ca5ed}{getParameterValue}(std::string(namepar));
39       data\_sys /= (1.0-\hyperlink{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_pion_yields_reweighter_a90a2a88378549bb970b58543571206d7}{prt\_no\_inter});
40       data\_sta /= (1.0-\hyperlink{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_pion_yields_reweighter_a90a2a88378549bb970b58543571206d7}{prt\_no\_inter});
41       data\_cv  /= (1.0-\hyperlink{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_pion_yields_reweighter_a90a2a88378549bb970b58543571206d7}{prt\_no\_inter});
42       \hyperlink{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_pion_yields_reweighter_a812702b4afdcb56925d897e56a01b352}{vbin\_data\_pim}.push\_back(data\_sys + data\_sta - data\_cv);
43     \}
44 
45     
46 \}
\end{DoxyCode}
\hypertarget{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_pion_yields_reweighter_a6779850f19e6cf219b2ea83eed20b223}{\index{Neutrino\-Flux\-Reweight\-::\-M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter@{Neutrino\-Flux\-Reweight\-::\-M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter}!$\sim$\-M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter@{$\sim$\-M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter}}
\index{$\sim$\-M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter@{$\sim$\-M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter}!NeutrinoFluxReweight::MIPPNumiPionYieldsReweighter@{Neutrino\-Flux\-Reweight\-::\-M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter}}
\subsubsection[{$\sim$\-M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter}]{\setlength{\rightskip}{0pt plus 5cm}Neutrino\-Flux\-Reweight\-::\-M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter\-::$\sim$\-M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_pion_yields_reweighter_a6779850f19e6cf219b2ea83eed20b223}


Definition at line 47 of file M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter.\-cpp.


\begin{DoxyCode}
47                                                              \{
48     
49   \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\hypertarget{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_pion_yields_reweighter_a84ef113a8ef34c2f9f5813938ec35382}{\index{Neutrino\-Flux\-Reweight\-::\-M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter@{Neutrino\-Flux\-Reweight\-::\-M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter}!calculate\-Weight@{calculate\-Weight}}
\index{calculate\-Weight@{calculate\-Weight}!NeutrinoFluxReweight::MIPPNumiPionYieldsReweighter@{Neutrino\-Flux\-Reweight\-::\-M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter}}
\subsubsection[{calculate\-Weight}]{\setlength{\rightskip}{0pt plus 5cm}double Neutrino\-Flux\-Reweight\-::\-M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter\-::calculate\-Weight (
\begin{DoxyParamCaption}
\item[{const {\bf Interaction\-Chain\-Data} \&}]{aa}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_pion_yields_reweighter_a84ef113a8ef34c2f9f5813938ec35382}


calculate a weight for this interaction chain given the central value parameters and the parameters for this universe. The weight is something like\-: f(cv)/f(M\-C) $\ast$ f(univ)/f(cv) where cv in this case corresponds to the best value of the parameter, given the data. If univ\-\_\-pars=cv\-\_\-pars then we are calculating a central value weight. Note, \hyperlink{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_pion_yields_reweighter_a6a716b25ddb7d29ace9c7f07d84c91b2}{can\-Reweight()} should be called to determine which elements of the chain are covered by the weight returned by \hyperlink{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_pion_yields_reweighter_a84ef113a8ef34c2f9f5813938ec35382}{calculate\-Weight()} 



Implements \hyperlink{class_neutrino_flux_reweight_1_1_i_interaction_chain_reweighting_ae28403553637013fdc720674ee24c7c5}{Neutrino\-Flux\-Reweight\-::\-I\-Interaction\-Chain\-Reweighting}.



Definition at line 86 of file M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter.\-cpp.


\begin{DoxyCode}
86                                                                                     \{
87     
88     \textcolor{keywordtype}{double} wgt = 1.0;
89     
90     MIPPNumiYieldsBins*  MIPPbins =  \hyperlink{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_yields_bins_a7f44afe90a846812d6eabfafa8f576e4}{MIPPNumiYieldsBins::getInstance}();
91     MIPPNumiMC*  MCval =  \hyperlink{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_m_c_a4324da8640cc9a0d157d82e08da3a1c3}{MIPPNumiMC::getInstance}();    
92     
93     TargetData tar = aa.tar\_info;
94     \textcolor{keywordtype}{int} binID = MIPPbins->BinID(tar.Pz,tar.Pt,tar.Tar\_pdg);
95     
96     \textcolor{keywordflow}{if}(binID<0)\{
97       std::cout<<\textcolor{stringliteral}{"BINID ZERO:"} <<tar.Pz<<\textcolor{stringliteral}{" "}<<tar.Pt<<\textcolor{stringliteral}{" "} <<tar.Tar\_pdg<<std::endl;
98       \textcolor{keywordflow}{return} 1.0;
99     \}
100     
101     \textcolor{comment}{//Getting MC:}
102     \textcolor{keywordtype}{double} binC = MCval->getMCval(tar.Pz,tar.Pt,tar.Tar\_pdg);
103     \textcolor{keywordflow}{if}(binC<1.e-18)\{
104       std::cout<<\textcolor{stringliteral}{"LOW MC VAL: "}<<binC <<std::endl;
105       \textcolor{keywordflow}{return} 1.0;
106     \}
107     
108     \textcolor{keywordflow}{if}(tar.Tar\_pdg == 211)wgt = \hyperlink{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_pion_yields_reweighter_a2120bbeea3e8b080eb68cd8ef6aa5b8e}{vbin\_data\_pip}[binID]/binC;
109     \textcolor{keywordflow}{if}(tar.Tar\_pdg ==-211)wgt = \hyperlink{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_pion_yields_reweighter_a812702b4afdcb56925d897e56a01b352}{vbin\_data\_pim}[binID]/binC;
110     
111     \textcolor{keywordflow}{if}(wgt<0)std::cout<<\textcolor{stringliteral}{"TTMIPPPI check wgt(<0) "}<<\hyperlink{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_pion_yields_reweighter_a1ff57841eaa437aeb11a9793a64e47c2}{iUniv}<<\textcolor{stringliteral}{" "}<<tar.Pz<<\textcolor{stringliteral}{" "}<<tar.Pt<<\textcolor{stringliteral}{" "}<<tar.Tar\_pdg<<
      std::endl;
112     \textcolor{keywordflow}{return} wgt;
113     
114   \}
\end{DoxyCode}
\hypertarget{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_pion_yields_reweighter_a6a716b25ddb7d29ace9c7f07d84c91b2}{\index{Neutrino\-Flux\-Reweight\-::\-M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter@{Neutrino\-Flux\-Reweight\-::\-M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter}!can\-Reweight@{can\-Reweight}}
\index{can\-Reweight@{can\-Reweight}!NeutrinoFluxReweight::MIPPNumiPionYieldsReweighter@{Neutrino\-Flux\-Reweight\-::\-M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter}}
\subsubsection[{can\-Reweight}]{\setlength{\rightskip}{0pt plus 5cm}std\-::vector$<$ bool $>$ Neutrino\-Flux\-Reweight\-::\-M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter\-::can\-Reweight (
\begin{DoxyParamCaption}
\item[{const {\bf Interaction\-Chain\-Data} \&}]{aa}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_pion_yields_reweighter_a6a716b25ddb7d29ace9c7f07d84c91b2}


Look through the \hyperlink{class_neutrino_flux_reweight_1_1_interaction_chain_data}{Interaction\-Chain\-Data} input and identify those Interactions that can be reweighted as part of a chain. We return a vector indicating which elements will be assigned a weight by calculate\-Weight. 



Implements \hyperlink{class_neutrino_flux_reweight_1_1_i_interaction_chain_reweighting_aacf17580c1d316f0ebcdfdff7418e9e3}{Neutrino\-Flux\-Reweight\-::\-I\-Interaction\-Chain\-Reweighting}.



Definition at line 50 of file M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter.\-cpp.


\begin{DoxyCode}
50                                                                                          \{
51  
52     MIPPNumiYieldsBins*  MIPPbins =  \hyperlink{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_yields_bins_a7f44afe90a846812d6eabfafa8f576e4}{MIPPNumiYieldsBins::getInstance}();
53     std::vector<bool> this\_nodes;
54     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t} ii=0;ii<(aa.interaction\_chain).size();ii++)\{
55       this\_nodes.push\_back(\textcolor{keyword}{false});
56     \}
57    
58     \textcolor{comment}{//Look for MIPP Numi events}
59     \textcolor{comment}{//if the code find a MIPP Numi event, it will look }
60     \textcolor{comment}{//for how many interaction nodes covers}
61     \textcolor{comment}{//if not, return all nodes false.}
62     \textcolor{comment}{//bool is\_there\_mipp = false;   }
63     TargetData tar = aa.tar\_info;
64     \textcolor{comment}{//Cheking if the particle is a pion plus and pion minus:}
65     \textcolor{keywordflow}{if}(tar.Tar\_pdg != 211 && tar.Tar\_pdg != -211)\textcolor{keywordflow}{return} this\_nodes;
66     \textcolor{keywordtype}{int} binID = MIPPbins->BinID(tar.Pz,tar.Pt,tar.Tar\_pdg);
67     \textcolor{keywordflow}{if}(binID<0) \textcolor{keywordflow}{return} this\_nodes;    
68     
69     \textcolor{comment}{//Now that we know that we have a MIPP Numi event, }
70     \textcolor{comment}{//we will see how many nodes are covered.}
71     std::vector<InteractionData> this\_interactions = aa.interaction\_chain; 
72     
73     \textcolor{comment}{//Now we have the index of the hadron that exit the target in the }
74     \textcolor{comment}{//ancesty chain:}
75     \textcolor{keywordflow}{if}(tar.Idx\_ancestry>=0)\{
76       \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} ii=0;ii<tar.Idx\_ancestry;ii++)\{
77         this\_nodes[ii] = \textcolor{keyword}{true};
78       \}
79     \}
80     \textcolor{keywordflow}{else}\{
81       \textcolor{comment}{//  std::cout<<"==>>SOMETHING WEIRD WITH MIPP NUMI "<<tar.Idx\_ancestry<<" "<<tar.Tar\_pdg<<std::endl;}
82     \}
83     
84     \textcolor{keywordflow}{return} this\_nodes;
85   \}
\end{DoxyCode}


\subsection{Member Data Documentation}
\hypertarget{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_pion_yields_reweighter_a127384f58575ad94c986aac85ea6fbe6}{\index{Neutrino\-Flux\-Reweight\-::\-M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter@{Neutrino\-Flux\-Reweight\-::\-M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter}!cv\-Pars@{cv\-Pars}}
\index{cv\-Pars@{cv\-Pars}!NeutrinoFluxReweight::MIPPNumiPionYieldsReweighter@{Neutrino\-Flux\-Reweight\-::\-M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter}}
\subsubsection[{cv\-Pars}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf Parameter\-Table}\& Neutrino\-Flux\-Reweight\-::\-M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter\-::cv\-Pars}}\label{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_pion_yields_reweighter_a127384f58575ad94c986aac85ea6fbe6}


Definition at line 23 of file M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter.\-h.

\hypertarget{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_pion_yields_reweighter_a1ff57841eaa437aeb11a9793a64e47c2}{\index{Neutrino\-Flux\-Reweight\-::\-M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter@{Neutrino\-Flux\-Reweight\-::\-M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter}!i\-Univ@{i\-Univ}}
\index{i\-Univ@{i\-Univ}!NeutrinoFluxReweight::MIPPNumiPionYieldsReweighter@{Neutrino\-Flux\-Reweight\-::\-M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter}}
\subsubsection[{i\-Univ}]{\setlength{\rightskip}{0pt plus 5cm}int Neutrino\-Flux\-Reweight\-::\-M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter\-::i\-Univ\hspace{0.3cm}{\ttfamily [private]}}}\label{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_pion_yields_reweighter_a1ff57841eaa437aeb11a9793a64e47c2}


Definition at line 27 of file M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter.\-h.

\hypertarget{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_pion_yields_reweighter_a90a2a88378549bb970b58543571206d7}{\index{Neutrino\-Flux\-Reweight\-::\-M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter@{Neutrino\-Flux\-Reweight\-::\-M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter}!prt\-\_\-no\-\_\-inter@{prt\-\_\-no\-\_\-inter}}
\index{prt\-\_\-no\-\_\-inter@{prt\-\_\-no\-\_\-inter}!NeutrinoFluxReweight::MIPPNumiPionYieldsReweighter@{Neutrino\-Flux\-Reweight\-::\-M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter}}
\subsubsection[{prt\-\_\-no\-\_\-inter}]{\setlength{\rightskip}{0pt plus 5cm}float Neutrino\-Flux\-Reweight\-::\-M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter\-::prt\-\_\-no\-\_\-inter\hspace{0.3cm}{\ttfamily [private]}}}\label{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_pion_yields_reweighter_a90a2a88378549bb970b58543571206d7}


Definition at line 28 of file M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter.\-h.

\hypertarget{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_pion_yields_reweighter_a9208f5f3b7541f13f9e652d84e50c7cd}{\index{Neutrino\-Flux\-Reweight\-::\-M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter@{Neutrino\-Flux\-Reweight\-::\-M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter}!univ\-Pars@{univ\-Pars}}
\index{univ\-Pars@{univ\-Pars}!NeutrinoFluxReweight::MIPPNumiPionYieldsReweighter@{Neutrino\-Flux\-Reweight\-::\-M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter}}
\subsubsection[{univ\-Pars}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf Parameter\-Table}\& Neutrino\-Flux\-Reweight\-::\-M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter\-::univ\-Pars}}\label{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_pion_yields_reweighter_a9208f5f3b7541f13f9e652d84e50c7cd}


Definition at line 24 of file M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter.\-h.

\hypertarget{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_pion_yields_reweighter_a812702b4afdcb56925d897e56a01b352}{\index{Neutrino\-Flux\-Reweight\-::\-M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter@{Neutrino\-Flux\-Reweight\-::\-M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter}!vbin\-\_\-data\-\_\-pim@{vbin\-\_\-data\-\_\-pim}}
\index{vbin\-\_\-data\-\_\-pim@{vbin\-\_\-data\-\_\-pim}!NeutrinoFluxReweight::MIPPNumiPionYieldsReweighter@{Neutrino\-Flux\-Reweight\-::\-M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter}}
\subsubsection[{vbin\-\_\-data\-\_\-pim}]{\setlength{\rightskip}{0pt plus 5cm}std\-::vector$<$float$>$ Neutrino\-Flux\-Reweight\-::\-M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter\-::vbin\-\_\-data\-\_\-pim\hspace{0.3cm}{\ttfamily [private]}}}\label{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_pion_yields_reweighter_a812702b4afdcb56925d897e56a01b352}


Definition at line 29 of file M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter.\-h.

\hypertarget{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_pion_yields_reweighter_a2120bbeea3e8b080eb68cd8ef6aa5b8e}{\index{Neutrino\-Flux\-Reweight\-::\-M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter@{Neutrino\-Flux\-Reweight\-::\-M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter}!vbin\-\_\-data\-\_\-pip@{vbin\-\_\-data\-\_\-pip}}
\index{vbin\-\_\-data\-\_\-pip@{vbin\-\_\-data\-\_\-pip}!NeutrinoFluxReweight::MIPPNumiPionYieldsReweighter@{Neutrino\-Flux\-Reweight\-::\-M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter}}
\subsubsection[{vbin\-\_\-data\-\_\-pip}]{\setlength{\rightskip}{0pt plus 5cm}std\-::vector$<$float$>$ Neutrino\-Flux\-Reweight\-::\-M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter\-::vbin\-\_\-data\-\_\-pip\hspace{0.3cm}{\ttfamily [private]}}}\label{class_neutrino_flux_reweight_1_1_m_i_p_p_numi_pion_yields_reweighter_a2120bbeea3e8b080eb68cd8ef6aa5b8e}


Definition at line 29 of file M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter.\-h.



The documentation for this class was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
include/\hyperlink{_m_i_p_p_numi_pion_yields_reweighter_8h}{M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter.\-h}\item 
src/\hyperlink{_m_i_p_p_numi_pion_yields_reweighter_8cpp}{M\-I\-P\-P\-Numi\-Pion\-Yields\-Reweighter.\-cpp}\end{DoxyCompactItemize}
