\hypertarget{namespacedraw_uncertainties}{\section{draw\-Uncertainties Namespace Reference}
\label{namespacedraw_uncertainties}\index{draw\-Uncertainties@{draw\-Uncertainties}}
}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{namespacedraw_uncertainties_a71b82db5bc399553d8d56d4d8ce2b18e}{Make\-Error\-Histogram}
\item 
def \hyperlink{namespacedraw_uncertainties_a5f3f19737fb7c47a3c667b8302147051}{Add\-Universes}
\item 
def \hyperlink{namespacedraw_uncertainties_ae12ee4fc0c28f6a1d7b52d471e03986f}{Print\-Plots}
\item 
def \hyperlink{namespacedraw_uncertainties_a7290b59dd74403a9db20d6aaf70e93a6}{Draw\-Flux\-Together}
\item 
def \hyperlink{namespacedraw_uncertainties_a5bc9e5d65362bd3fc2fcf03940d6725f}{Rebin\-Histogram}
\item 
def \hyperlink{namespacedraw_uncertainties_a29036b3dc1e10114e516f30329a1432a}{Draw\-Together}
\item 
def \hyperlink{namespacedraw_uncertainties_a75534d4e7a659ff593417f2457bc3da4}{Print\-Stack\-Plots}
\item 
def \hyperlink{namespacedraw_uncertainties_aa087fc0e5505d449e4c4c78ba8dc59c5}{Print\-Ratio\-Error\-Plots}
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
tuple \hyperlink{namespacedraw_uncertainties_a50e3d2dc06f1d99f2bd8e5e6d1154884}{pathname} = str(sys.\-argv\mbox{[}1\mbox{]})
\item 
string \hyperlink{namespacedraw_uncertainties_aef917564a3adce487822fc487ef606df}{pathname1} = \char`\"{}\char`\"{}
\item 
tuple \hyperlink{namespacedraw_uncertainties_ab8c6ba7f1f9b613593d7766761fc1f59}{in\-\_\-file} = R\-O\-O\-T.\-T\-File(str(\hyperlink{namespacedraw_uncertainties_a50e3d2dc06f1d99f2bd8e5e6d1154884}{pathname}))
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\hypertarget{namespacedraw_uncertainties_a5f3f19737fb7c47a3c667b8302147051}{\index{draw\-Uncertainties@{draw\-Uncertainties}!Add\-Universes@{Add\-Universes}}
\index{Add\-Universes@{Add\-Universes}!drawUncertainties@{draw\-Uncertainties}}
\subsubsection[{Add\-Universes}]{\setlength{\rightskip}{0pt plus 5cm}def draw\-Uncertainties.\-Add\-Universes (
\begin{DoxyParamCaption}
\item[{}]{universes}
\end{DoxyParamCaption}
)}}\label{namespacedraw_uncertainties_a5f3f19737fb7c47a3c667b8302147051}


Definition at line 59 of file draw\-Uncertainties.\-py.


\begin{DoxyCode}
59 
60 \textcolor{keyword}{def }\hyperlink{namespacedraw_uncertainties_a5f3f19737fb7c47a3c667b8302147051}{AddUniverses}(universes):
61     n\_universes=len(universes)
62     avg\_hist=universes[0].Clone(universes[0].GetName()+\textcolor{stringliteral}{"\_avg"})
63     \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} range(n\_universes):
64         avg\_hist.Add(universes[i])
65         avg\_hist.Scale(1/float(n\_universes))
66     \textcolor{keywordflow}{return} avg\_hist
67 

\end{DoxyCode}
\hypertarget{namespacedraw_uncertainties_a7290b59dd74403a9db20d6aaf70e93a6}{\index{draw\-Uncertainties@{draw\-Uncertainties}!Draw\-Flux\-Together@{Draw\-Flux\-Together}}
\index{Draw\-Flux\-Together@{Draw\-Flux\-Together}!drawUncertainties@{draw\-Uncertainties}}
\subsubsection[{Draw\-Flux\-Together}]{\setlength{\rightskip}{0pt plus 5cm}def draw\-Uncertainties.\-Draw\-Flux\-Together (
\begin{DoxyParamCaption}
\item[{}]{rootfile, }
\item[{}]{in\-\_\-dir, }
\item[{}]{in\-\_\-file, }
\item[{}]{universes}
\end{DoxyParamCaption}
)}}\label{namespacedraw_uncertainties_a7290b59dd74403a9db20d6aaf70e93a6}


Definition at line 87 of file draw\-Uncertainties.\-py.


\begin{DoxyCode}
87 
88 \textcolor{keyword}{def }\hyperlink{namespacedraw_uncertainties_a7290b59dd74403a9db20d6aaf70e93a6}{DrawFluxTogether}(rootfile,in\_dir,in\_file,universes):
89     histo\_universes=[]
90     \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} range(universes):
91         histo\_universes.append(rootfile.Get(in\_dir+\textcolor{stringliteral}{"/"}+in\_file+\textcolor{stringliteral}{"\_"}+str(i)))
92     c1 = ROOT.TCanvas(\textcolor{stringliteral}{"c1"},\textcolor{stringliteral}{"c1"},500,500)
93     c1.cd()
94     (histo\_universes[0].GetXaxis()).SetRangeUser(0,20)
95     maxm= histo\_universes[0].GetMaximum()
96     histo\_universes[0].SetMaximum(maxm+0.1*maxm)
97     histo\_universes[0].Draw(\textcolor{stringliteral}{"hist"})
98     \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} range(0,universes):
99         histo\_universes[i].Draw(\textcolor{stringliteral}{"same"})
100     raw\_input()
101 
102 

\end{DoxyCode}
\hypertarget{namespacedraw_uncertainties_a29036b3dc1e10114e516f30329a1432a}{\index{draw\-Uncertainties@{draw\-Uncertainties}!Draw\-Together@{Draw\-Together}}
\index{Draw\-Together@{Draw\-Together}!drawUncertainties@{draw\-Uncertainties}}
\subsubsection[{Draw\-Together}]{\setlength{\rightskip}{0pt plus 5cm}def draw\-Uncertainties.\-Draw\-Together (
\begin{DoxyParamCaption}
\item[{}]{rootfile, }
\item[{}]{nutype, }
\item[{}]{universes, }
\item[{}]{frac, }
\item[{}]{urange}
\end{DoxyParamCaption}
)}}\label{namespacedraw_uncertainties_a29036b3dc1e10114e516f30329a1432a}


Definition at line 126 of file draw\-Uncertainties.\-py.


\begin{DoxyCode}
126 
127 \textcolor{keyword}{def }\hyperlink{namespacedraw_uncertainties_a29036b3dc1e10114e516f30329a1432a}{DrawTogether}(rootfile,nutype,universes,frac,urange):
128     errhists=[]
129     directory=[\textcolor{stringliteral}{"total"},\textcolor{stringliteral}{"others"},\textcolor{stringliteral}{"thinttpCpi"},\textcolor{stringliteral}{"thinttpCk"},\textcolor{stringliteral}{"thinttnCpi"},
130                \textcolor{stringliteral}{"thinttpCnu"},\textcolor{stringliteral}{"ttmesinc"},\textcolor{stringliteral}{"ttpipinc"},\textcolor{stringliteral}{"ttpipmesinc"},\textcolor{stringliteral}{"thinttnua"},\textcolor{stringliteral}{"att"},\textcolor{stringliteral}{"abs"}]
131     files=[\textcolor{stringliteral}{"htotal"},\textcolor{stringliteral}{"hothers"},\textcolor{stringliteral}{"hthinttpCpi"},\textcolor{stringliteral}{"hthinttpCk"},\textcolor{stringliteral}{"hthinttnCpi"},
132                \textcolor{stringliteral}{"hthinttpCnu"},\textcolor{stringliteral}{"httmesinc"},\textcolor{stringliteral}{"httpipinc"},\textcolor{stringliteral}{"httpipmesinc"},\textcolor{stringliteral}{"hthinttnua"},\textcolor{stringliteral}{"hatt"},\textcolor{stringliteral}{"habs"}]
133     legends=[\textcolor{stringliteral}{"Total HP"},\textcolor{stringliteral}{"others"},\textcolor{stringliteral}{"pC #rightarrow #pi X"},\textcolor{stringliteral}{"pC #rightarrow KX"},\textcolor{stringliteral}{"nC #rightarrow #pi X"},\textcolor{stringliteral}{"pC
       #rightarrow N"},\textcolor{stringliteral}{"Meson incident"},\textcolor{stringliteral}{"NA61 pip"},\textcolor{stringliteral}{"Remaining Meson incident + NA61 pip"},\textcolor{stringliteral}{"nucleon-A"},\textcolor{stringliteral}{"attenuation"},\textcolor{stringliteral}{"
      absorption"}]
134     color=[38,39,40,41,46,43,44,45,39,37,36,42]
135     \textcolor{comment}{#style=[0,1,2,1,2,1,2,1,2,1,2]}
136     style=[0,1,1,2,1,2,1,2,1,2,1,2]
137 
138     \textcolor{keywordflow}{for} j \textcolor{keywordflow}{in} range(len(directory)):
139         histo\_universes=[]
140         in\_dir=nutype+\textcolor{stringliteral}{"\_"}+directory[j]
141         in\_files=files[j]+\textcolor{stringliteral}{"\_"}+nutype
142         \textcolor{keywordflow}{print} in\_dir+\textcolor{stringliteral}{"/"}+in\_files
143         \textcolor{keywordflow}{print} in\_dir+\textcolor{stringliteral}{"/"}+in\_files
144         \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} range(universes):
145             histo\_universes.append(rootfile.Get(str(in\_dir)+\textcolor{stringliteral}{"/"}+str(in\_files)+\textcolor{stringliteral}{"\_"}+str(i)))
146         rebinned\_histos=\hyperlink{namespacedraw_uncertainties_a5bc9e5d65362bd3fc2fcf03940d6725f}{RebinHistogram}(histo\_universes,\textcolor{keyword}{False})
147         error\_universes = \hyperlink{namespacedraw_uncertainties_a71b82db5bc399553d8d56d4d8ce2b18e}{MakeErrorHistogram}(rebinned\_histos,frac)
148         errhists.append(error\_universes)
149     \textcolor{comment}{#for i in range(0,errhists[4].GetNbinsX()+1):}
150         \textcolor{comment}{#print errhists[4].GetBinContent(i)}
151     \textcolor{comment}{#print len(errhists)   }
152     c1 = ROOT.TCanvas(\textcolor{stringliteral}{"c1"},\textcolor{stringliteral}{"c1"},750,750)
153     leg = ROOT.TLegend(0.3,0.5,0.5,0.9)
154     c1.cd()
155     errhists[0].SetLineColor(1)
156     errhists[0].SetLineWidth(3)
157     errhists[0].SetMinimum(0)
158     errhists[0].GetYaxis().SetTitle(\textcolor{stringliteral}{"Fractional Uncertainties"});
159     errhists[0].GetXaxis().SetTitle(\textcolor{stringliteral}{"E\_\{#nu\} [GeV]"});
160     (errhists[0].GetXaxis()).SetRangeUser(0,20)
161     leg.AddEntry(errhists[0],str(legends[0]),\textcolor{stringliteral}{"lp"})
162     errhists[0].SetMaximum(0.2)
163     errhists[0].SetMinimum(0)
164     errhists[0].Draw(\textcolor{stringliteral}{"hist"})
165     \textcolor{comment}{#print len(errhists),len(color)}
166     \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} range(1,len(errhists)):
167         errhists[i].SetLineColor(color[i])
168         errhists[i].SetLineStyle(style[i])
169         errhists[i].SetLineWidth(3)
170         errhists[i].Draw(\textcolor{stringliteral}{"histsame"})
171         leg.AddEntry(errhists[i],str(legends[i]),\textcolor{stringliteral}{"lp"})
172     leg.Draw(\textcolor{stringliteral}{""})
173     c1.Print(\textcolor{stringliteral}{"Interaction\_info.pdf"})
174     \textcolor{comment}{#raw\_input()}
175 
176  \textcolor{comment}{#Additional function only useful for comparing two uncertainty plots}
 
\end{DoxyCode}
\hypertarget{namespacedraw_uncertainties_a71b82db5bc399553d8d56d4d8ce2b18e}{\index{draw\-Uncertainties@{draw\-Uncertainties}!Make\-Error\-Histogram@{Make\-Error\-Histogram}}
\index{Make\-Error\-Histogram@{Make\-Error\-Histogram}!drawUncertainties@{draw\-Uncertainties}}
\subsubsection[{Make\-Error\-Histogram}]{\setlength{\rightskip}{0pt plus 5cm}def draw\-Uncertainties.\-Make\-Error\-Histogram (
\begin{DoxyParamCaption}
\item[{}]{universes, }
\item[{}]{as\-Frac = {\ttfamily True}}
\end{DoxyParamCaption}
)}}\label{namespacedraw_uncertainties_a71b82db5bc399553d8d56d4d8ce2b18e}


Definition at line 25 of file draw\-Uncertainties.\-py.


\begin{DoxyCode}
25 
26 \textcolor{keyword}{def }\hyperlink{namespacedraw_uncertainties_a71b82db5bc399553d8d56d4d8ce2b18e}{MakeErrorHistogram}(universes,asFrac=True):
27     \textcolor{comment}{#try the rebinning as well}
28     counter=0
29     newbins=[]
30     \textcolor{keywordflow}{for} num \textcolor{keywordflow}{in}  range(0,121): \textcolor{comment}{#using the 1 GeV uniform binning here}
31         newbins.append(num*1.0)
32         counter+=1
33     n\_universes = len(universes)
34     avg\_hist = universes[0].Clone(universes[0].GetName()+\textcolor{stringliteral}{"\_avg"})
35     \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} range(0,avg\_hist.GetNbinsX()+1):
36         avg\_hist.SetBinContent(i,0.0)
37         avg\_hist.SetBinError(i,0.0)
38     avg\_hist.Scale(1,\textcolor{stringliteral}{"width"})
39     error\_hist = universes[0].Clone(universes[0].GetName()+\textcolor{stringliteral}{"\_error"})
40     \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} range(0,error\_hist.GetNbinsX()+1):
41         error\_hist.SetBinContent(i,0.0)
42         error\_hist.SetBinError(i,0.0)
43     \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} range(n\_universes):
44         \textcolor{comment}{#universes[i].Print()}
45         universes[i].Scale(1,\textcolor{stringliteral}{"width"})
46         avg\_hist.Add(universes[i])
47     avg\_hist.Scale(1/float(n\_universes))
48 
49     \textcolor{comment}{# Calculate Error = RMS of universes}
50     \textcolor{keywordflow}{for} j \textcolor{keywordflow}{in} range(error\_hist.GetNbinsX()+2):
51         error = 0
52         \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} range(n\_universes):
53             error += 1/float(n\_universes)*ROOT.TMath.Power(universes[i].GetBinContent(j)-
      avg\_hist.GetBinContent(j),2)
54         error\_hist.SetBinContent(j,ROOT.TMath.Sqrt(error))
55     \textcolor{keywordflow}{if} asFrac:
56         error\_hist.Divide(avg\_hist)
57     \textcolor{keywordflow}{return} error\_hist
58 \textcolor{comment}{#Additional function to plot things easily}

\end{DoxyCode}
\hypertarget{namespacedraw_uncertainties_ae12ee4fc0c28f6a1d7b52d471e03986f}{\index{draw\-Uncertainties@{draw\-Uncertainties}!Print\-Plots@{Print\-Plots}}
\index{Print\-Plots@{Print\-Plots}!drawUncertainties@{draw\-Uncertainties}}
\subsubsection[{Print\-Plots}]{\setlength{\rightskip}{0pt plus 5cm}def draw\-Uncertainties.\-Print\-Plots (
\begin{DoxyParamCaption}
\item[{}]{rootfile, }
\item[{}]{in\-\_\-dir, }
\item[{}]{in\-\_\-files, }
\item[{}]{universes, }
\item[{}]{frac, }
\item[{}]{urange}
\end{DoxyParamCaption}
)}}\label{namespacedraw_uncertainties_ae12ee4fc0c28f6a1d7b52d471e03986f}


Definition at line 68 of file draw\-Uncertainties.\-py.


\begin{DoxyCode}
68 
69 \textcolor{keyword}{def }\hyperlink{namespacedraw_uncertainties_ae12ee4fc0c28f6a1d7b52d471e03986f}{PrintPlots}(rootfile,in\_dir,in\_files,universes,frac,urange):
70     histo\_universes=[]
71     \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} range(universes):
72         histo\_universes.append(rootfile.Get(in\_dir+\textcolor{stringliteral}{"/"}+in\_files+\textcolor{stringliteral}{"\_"}+str(i)))
73     error\_universes = \hyperlink{namespacedraw_uncertainties_a71b82db5bc399553d8d56d4d8ce2b18e}{MakeErrorHistogram}(histo\_universes,frac)
74     c1 = ROOT.TCanvas(\textcolor{stringliteral}{"c1"},\textcolor{stringliteral}{"c1"},750,750)
75     error\_universes.SetLineWidth(3)
76     \textcolor{keywordflow}{if} \textcolor{stringliteral}{"htotal"} \textcolor{keywordflow}{in} error\_universes.GetName():
77         \textcolor{keywordflow}{print} error\_universes.GetName()[:-8],type(error\_universes)
78     \textcolor{keywordflow}{if} urange:
79           (error\_universes.GetXaxis()).SetRangeUser(0,20)
80           error\_universes.Draw(\textcolor{stringliteral}{"hist"})
81           c1.Print(str(in\_files)+\textcolor{stringliteral}{".pdf"})
82     \textcolor{keywordflow}{else}:
83         error\_universes.Draw(\textcolor{stringliteral}{"hist"})
84         c1.Print(str(in\_files)+\textcolor{stringliteral}{".pdf"})
85     del rootfile
86 

\end{DoxyCode}
\hypertarget{namespacedraw_uncertainties_aa087fc0e5505d449e4c4c78ba8dc59c5}{\index{draw\-Uncertainties@{draw\-Uncertainties}!Print\-Ratio\-Error\-Plots@{Print\-Ratio\-Error\-Plots}}
\index{Print\-Ratio\-Error\-Plots@{Print\-Ratio\-Error\-Plots}!drawUncertainties@{draw\-Uncertainties}}
\subsubsection[{Print\-Ratio\-Error\-Plots}]{\setlength{\rightskip}{0pt plus 5cm}def draw\-Uncertainties.\-Print\-Ratio\-Error\-Plots (
\begin{DoxyParamCaption}
\item[{}]{rfile1, }
\item[{}]{rfile2, }
\item[{}]{in\-\_\-dir, }
\item[{}]{in\-\_\-files, }
\item[{}]{universes, }
\item[{}]{frac, }
\item[{}]{urange, }
\item[{}]{htarget\-Plots = {\ttfamily False}, }
\item[{}]{rebin = {\ttfamily True}, }
\item[{}]{uniform = {\ttfamily True}}
\end{DoxyParamCaption}
)}}\label{namespacedraw_uncertainties_aa087fc0e5505d449e4c4c78ba8dc59c5}


Definition at line 223 of file draw\-Uncertainties.\-py.


\begin{DoxyCode}
223 
224 \textcolor{keyword}{def }\hyperlink{namespacedraw_uncertainties_aa087fc0e5505d449e4c4c78ba8dc59c5}{PrintRatioErrorPlots}(
      rfile1,rfile2,in\_dir,in\_files,universes,frac,urange,htargetPlots=False,rebin=True,uniform=True):
225     \textcolor{keywordflow}{if} len(sys.argv)<2:
226         \textcolor{keywordflow}{print} \textcolor{stringliteral}{"need at least 2 files to compare the ratio error plots...exiting "}
227         sys.exit(1)
228     \textcolor{keywordflow}{print} \textcolor{stringliteral}{"Ratio and Error info for "}+rfile1.GetName()+\textcolor{stringliteral}{" / "}+rfile2.GetName()
229     
230     histo1\_universes=[]
231     histo2\_universes=[]
232     ratio\_universes=[]
233     \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} range(universes):
234         histo1\_universes.append(rfile1.Get(in\_dir+\textcolor{stringliteral}{"/"}+in\_files+\textcolor{stringliteral}{"\_"}+str(i)))
235         histo2\_universes.append(rfile2.Get(in\_dir+\textcolor{stringliteral}{"/"}+in\_files+\textcolor{stringliteral}{"\_"}+str(i)))
236     \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} rebin:      
237         \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} range(universes):
238             histo1\_universes[i].Divide(histo2\_universes[i])
239         error\_universes = \hyperlink{namespacedraw_uncertainties_a71b82db5bc399553d8d56d4d8ce2b18e}{MakeErrorHistogram}(histo1\_universes,frac)
240         ratio\_universe=\hyperlink{namespacedraw_uncertainties_a5f3f19737fb7c47a3c667b8302147051}{AddUniverses}(histo1\_universes)
241     \textcolor{keywordflow}{if} rebin:
242         unibin=\textcolor{keyword}{True}
243         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} uniform:
244             unibin=\textcolor{keyword}{False}
245         rebin\_histo1=\hyperlink{namespacedraw_uncertainties_a5bc9e5d65362bd3fc2fcf03940d6725f}{RebinHistogram}(histo1\_universes,unibin)
246         rebin\_histo2=\hyperlink{namespacedraw_uncertainties_a5bc9e5d65362bd3fc2fcf03940d6725f}{RebinHistogram}(histo2\_universes,unibin)
247         \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} range(universes):
248             rebin\_histo1[i].Divide(rebin\_histo2[i])
249         error\_universes=\hyperlink{namespacedraw_uncertainties_a71b82db5bc399553d8d56d4d8ce2b18e}{MakeErrorHistogram}(rebin\_histo1,frac)
250         ratio\_universe=\hyperlink{namespacedraw_uncertainties_a5f3f19737fb7c47a3c667b8302147051}{AddUniverses}(rebin\_histo1)
251         
252     \textcolor{keywordflow}{if} urange:
253       (error\_universes.GetXaxis()).SetRangeUser(0,20)
254       (ratio\_universe.GetXaxis()).SetRangeUser(0,20)
255     c1 = ROOT.TCanvas(\textcolor{stringliteral}{"c1"},\textcolor{stringliteral}{"c1"},500,500)
256     leg1 = ROOT.TLegend(0.5,0.5,0.5,0.5)
257     c1.cd()
258     \textcolor{keywordflow}{if} RPlots:
259         ratio\_universe.SetLineWidth(3)
260         ratio\_universe.Draw(\textcolor{stringliteral}{"histe"})
261         raw\_input()
262         \textcolor{comment}{#c1.Print(str(in\_files)+"\_ratio.pdf")}
263         del c1
264     \textcolor{keywordflow}{else}:
265         
266         error\_universes.SetMinimum(0)
267         error\_universes.SetLineWidth(3)
268         error\_universes.Draw(\textcolor{stringliteral}{"hist"})
269         leg1.AddEntry(error\_universes,\textcolor{stringliteral}{"Error for Far/Near "})
270         leg1.Draw(\textcolor{stringliteral}{""})
271         raw\_input()
272         \textcolor{comment}{#c1.Print(str(in\_files)+"\_ratioerror.pdf")}
\textcolor{comment}{# Open ppfx output file}
\end{DoxyCode}
\hypertarget{namespacedraw_uncertainties_a75534d4e7a659ff593417f2457bc3da4}{\index{draw\-Uncertainties@{draw\-Uncertainties}!Print\-Stack\-Plots@{Print\-Stack\-Plots}}
\index{Print\-Stack\-Plots@{Print\-Stack\-Plots}!drawUncertainties@{draw\-Uncertainties}}
\subsubsection[{Print\-Stack\-Plots}]{\setlength{\rightskip}{0pt plus 5cm}def draw\-Uncertainties.\-Print\-Stack\-Plots (
\begin{DoxyParamCaption}
\item[{}]{rfile1, }
\item[{}]{rfile2, }
\item[{}]{in\-\_\-dir, }
\item[{}]{in\-\_\-files, }
\item[{}]{universes, }
\item[{}]{frac, }
\item[{}]{urange}
\end{DoxyParamCaption}
)}}\label{namespacedraw_uncertainties_a75534d4e7a659ff593417f2457bc3da4}


Definition at line 177 of file draw\-Uncertainties.\-py.


\begin{DoxyCode}
177 
178 \textcolor{keyword}{def }\hyperlink{namespacedraw_uncertainties_a75534d4e7a659ff593417f2457bc3da4}{PrintStackPlots}(rfile1,rfile2,in\_dir,in\_files,universes,frac,urange):
179     \textcolor{keywordflow}{if} len(sys.argv)<2:
180         \textcolor{keywordflow}{print} \textcolor{stringliteral}{"need at least two files to print stack plots...."}
181         sys.exit(1)
182     histo1\_universes=[]
183     histo2\_universes=[]
184     \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} range(universes):
185         histo1\_universes.append(rfile1.Get(in\_dir+\textcolor{stringliteral}{"/"}+in\_files+\textcolor{stringliteral}{"\_"}+str(i)))
186         histo2\_universes.append(rfile2.Get(in\_dir+\textcolor{stringliteral}{"/"}+in\_files+\textcolor{stringliteral}{"\_"}+str(i)))
187     error\_universes1 = \hyperlink{namespacedraw_uncertainties_a71b82db5bc399553d8d56d4d8ce2b18e}{MakeErrorHistogram}(histo1\_universes,frac)
188     error\_universes2 = \hyperlink{namespacedraw_uncertainties_a71b82db5bc399553d8d56d4d8ce2b18e}{MakeErrorHistogram}(histo2\_universes,frac)
189     error\_universes1.SetLineColor(1)
190     error\_universes2.SetLineColor(2)
191     error\_universes1.SetLineWidth(3)
192     error\_universes2.SetLineWidth(3)
193     \textcolor{keywordflow}{if} urange:
194         (error\_universes1.GetXaxis()).SetRangeUser(0,20)
195         (error\_universes2.GetXaxis()).SetRangeUser(0,20)
196         
197     max1 = error\_universes1.GetMaximum()
198     max2 = error\_universes2.GetMaximum()
199 
200     c1 = ROOT.TCanvas(\textcolor{stringliteral}{"c1"},\textcolor{stringliteral}{"c1"},500,500)
201     \textcolor{keywordflow}{if} max1>max2:
202         error\_universes1.SetMinimum(0)
203         error\_universes1.Draw(\textcolor{stringliteral}{"hist"})
204         error\_universes2.Draw(\textcolor{stringliteral}{"histSame"})
205     \textcolor{keywordflow}{else}:
206         error\_universes2.SetMinimum(0)
207         error\_universes2.Draw(\textcolor{stringliteral}{"hist"})
208         error\_universes1.Draw(\textcolor{stringliteral}{"histSame"})
209     leg1 = ROOT.TLegend(0.5,0.5,0.5,0.5)
210     \textcolor{comment}{#Assuming that error\_universes1 will be for the reference beam here.}
211     leg1.AddEntry(error\_universes1,\textcolor{stringliteral}{"FTFP"},\textcolor{stringliteral}{"lp"})
212     leg1.AddEntry(error\_universes2,\textcolor{stringliteral}{"QGSP"},\textcolor{stringliteral}{"lp"})
213     leg1.Draw(\textcolor{stringliteral}{""})
214     current=os.getcwd()
215     newpath=current+\textcolor{stringliteral}{"/comp\_plots"}
216     \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} os.path.exists(newpath):
217         os.makedirs(newpath)
218     c1.Print(str(newpath)+\textcolor{stringliteral}{"/"}+str(in\_files)+\textcolor{stringliteral}{"\_comp.pdf"})
219 
220     \textcolor{keywordflow}{return}
221 
222 

\end{DoxyCode}
\hypertarget{namespacedraw_uncertainties_a5bc9e5d65362bd3fc2fcf03940d6725f}{\index{draw\-Uncertainties@{draw\-Uncertainties}!Rebin\-Histogram@{Rebin\-Histogram}}
\index{Rebin\-Histogram@{Rebin\-Histogram}!drawUncertainties@{draw\-Uncertainties}}
\subsubsection[{Rebin\-Histogram}]{\setlength{\rightskip}{0pt plus 5cm}def draw\-Uncertainties.\-Rebin\-Histogram (
\begin{DoxyParamCaption}
\item[{}]{input\-\_\-histos, }
\item[{}]{uniform = {\ttfamily False}}
\end{DoxyParamCaption}
)}}\label{namespacedraw_uncertainties_a5bc9e5d65362bd3fc2fcf03940d6725f}


Definition at line 103 of file draw\-Uncertainties.\-py.


\begin{DoxyCode}
103 
104 \textcolor{keyword}{def }\hyperlink{namespacedraw_uncertainties_a5bc9e5d65362bd3fc2fcf03940d6725f}{RebinHistogram}(input\_histos,uniform=False):
105     output\_histos=[]
106     counter=0
107     newbins=array.array(\textcolor{stringliteral}{'d'},[])
108     \textcolor{keywordflow}{if} uniform:
109         \textcolor{keywordflow}{for} num \textcolor{keywordflow}{in} range(0,17): \textcolor{comment}{#upto 8 GeV, 0.5 bins size}
110             newbins.append(num*0.5)
111             counter+=1
112         \textcolor{keywordflow}{for} num \textcolor{keywordflow}{in} range(5,11): \textcolor{comment}{#From 8 to 20 GeV, we will use 2 GeV bins size}
113             newbins.append(num*2)
114             counter+=1
115     \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} uniform:
116         \textcolor{keywordflow}{for} num \textcolor{keywordflow}{in} range(0,41):
117             newbins.append(num*1.0)
118             counter+=1
119 
120     \textcolor{keywordflow}{for} hist \textcolor{keywordflow}{in} input\_histos:
121         temphistname=hist.GetName()+\textcolor{stringliteral}{"\_rebinned"}
122         temphist=hist.Rebin(counter-1,temphistname,newbins)
123         \textcolor{comment}{#if not drawing the fractional uncertainties, need to scale}
124         output\_histos.append(temphist)
125     \textcolor{keywordflow}{return} output\_histos

\end{DoxyCode}


\subsection{Variable Documentation}
\hypertarget{namespacedraw_uncertainties_ab8c6ba7f1f9b613593d7766761fc1f59}{\index{draw\-Uncertainties@{draw\-Uncertainties}!in\-\_\-file@{in\-\_\-file}}
\index{in\-\_\-file@{in\-\_\-file}!drawUncertainties@{draw\-Uncertainties}}
\subsubsection[{in\-\_\-file}]{\setlength{\rightskip}{0pt plus 5cm}tuple draw\-Uncertainties.\-in\-\_\-file = R\-O\-O\-T.\-T\-File(str({\bf pathname}))}}\label{namespacedraw_uncertainties_ab8c6ba7f1f9b613593d7766761fc1f59}


Definition at line 273 of file draw\-Uncertainties.\-py.

\hypertarget{namespacedraw_uncertainties_a50e3d2dc06f1d99f2bd8e5e6d1154884}{\index{draw\-Uncertainties@{draw\-Uncertainties}!pathname@{pathname}}
\index{pathname@{pathname}!drawUncertainties@{draw\-Uncertainties}}
\subsubsection[{pathname}]{\setlength{\rightskip}{0pt plus 5cm}tuple draw\-Uncertainties.\-pathname = str(sys.\-argv\mbox{[}1\mbox{]})}}\label{namespacedraw_uncertainties_a50e3d2dc06f1d99f2bd8e5e6d1154884}


Definition at line 21 of file draw\-Uncertainties.\-py.

\hypertarget{namespacedraw_uncertainties_aef917564a3adce487822fc487ef606df}{\index{draw\-Uncertainties@{draw\-Uncertainties}!pathname1@{pathname1}}
\index{pathname1@{pathname1}!drawUncertainties@{draw\-Uncertainties}}
\subsubsection[{pathname1}]{\setlength{\rightskip}{0pt plus 5cm}tuple draw\-Uncertainties.\-pathname1 = \char`\"{}\char`\"{}}}\label{namespacedraw_uncertainties_aef917564a3adce487822fc487ef606df}


Definition at line 22 of file draw\-Uncertainties.\-py.

